<!DOCTYPE html>
<html lang="en">
<head>
    <title>Motherboard List</title>
    <link rel="stylesheet" href="../../../styles/index.css">
    <link rel="stylesheet" href="../../../styles/motherboard/mobo-list.css">
</head>
<body class="intel-bg">
    <div id="nav"></div>
    <div class="page-title">
        <h1>MOTHERBOARD SERIES</h1>
    </div>
    <div class="landing-page">
        <!-- Top Brand Buttons -->
        <div class="brand-filter" style="display: flex; align-items: flex-start; margin-bottom: 10px; position: absolute; left: 250px; top: 60px; z-index: 20;">
            <button class="brand-btn active" data-brand="intel">Intel</button>
            <button class="brand-btn" data-brand="amd">AMD</button>
        </div>
        <!-- Sidebar for Series -->
        <div class="series-sidebar" style="margin-top: 60px;">
            <!-- Series radio buttons will be injected here -->
        </div>
        <div class="scrollable-content">
            <div class="grid-container">
                <!-- Motherboard items will be injected here -->
            </div>
        </div>
    </div>
    <div id="bottom-nav"></div>
    <script>
        // --- Data ---
        const motherboardData = {
            intel: {
                series: [
                    { id: 'h-series', label: 'H-Series' },
                    { id: 'b-series', label: 'B-Series' },
                    { id: 'z-series', label: 'Z-Series' }
                ],
                items: [
                    { series: 'h-series', img: '../../../assets/motherboard/intel-h1.png', name: 'Intel H-Series 1' },
                    { series: 'h-series', img: '../../../assets/motherboard/intel-h2.png', name: 'Intel H-Series 2' },
                    { series: 'b-series', img: '../../../assets/motherboard/intel-b1.png', name: 'Intel B-Series 1' },
                    { series: 'b-series', img: '../../../assets/motherboard/intel-b2.png', name: 'Intel B-Series 2' },
                    { series: 'z-series', img: '../../../assets/motherboard/intel-z1.png', name: 'Intel Z-Series 1' },
                    { series: 'z-series', img: '../../../assets/motherboard/intel-z2.png', name: 'Intel Z-Series 2' }
                ]
            },
            amd: {
                series: [
                    { id: 'a-series', label: 'A-Series' },
                    { id: 'b-series', label: 'B-Series' },
                    { id: 'x-series', label: 'X-Series' }
                ],
                items: [
                    { series: 'a-series', img: '../../../assets/motherboard/amd-a1.png', name: 'AMD A-Series 1' },
                    { series: 'a-series', img: '../../../assets/motherboard/amd-a2.png', name: 'AMD A-Series 2' },
                    { series: 'b-series', img: '../../../assets/motherboard/amd-b1.png', name: 'AMD B-Series 1' },
                    { series: 'b-series', img: '../../../assets/motherboard/amd-b2.png', name: 'AMD B-Series 2' },
                    { series: 'x-series', img: '../../../assets/motherboard/amd-x1.png', name: 'AMD X-Series 1' },
                    { series: 'x-series', img: '../../../assets/motherboard/amd-x2.png', name: 'AMD X-Series 2' }
                ]
            }
        };

        // --- State ---
        // Get brand and series from URL query parameters if present
        function getQueryParam(name) {
            const params = new URLSearchParams(window.location.search);
            return params.get(name);
        }
        let initialBrand = getQueryParam('brand');
        let selectedBrand = initialBrand === 'amd' ? 'amd' : 'intel';
        let initialSeries = getQueryParam('series');
        let selectedSeries = initialSeries || motherboardData[selectedBrand].series[0].id;

        // --- DOM Elements ---
        const seriesSidebar = document.querySelector('.series-sidebar');
        const gridContainer = document.querySelector('.grid-container');
        const brandBtns = document.querySelectorAll('.brand-btn');

        // --- Functions ---
        function renderSeriesSidebar() {
            seriesSidebar.innerHTML = '';
            motherboardData[selectedBrand].series.forEach((s, idx) => {
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = 'series';
                input.value = s.id;
                input.id = s.id;
                // Check if this is the selected series
                input.checked = (selectedSeries === s.id) || (!initialSeries && idx === 0);
                input.addEventListener('change', () => {
                    selectedSeries = s.id;
                    renderGrid();
                });

                const label = document.createElement('label');
                label.htmlFor = s.id;
                label.className = 'button';
                label.textContent = s.label;

                seriesSidebar.appendChild(input);
                seriesSidebar.appendChild(label);
            });
        }

        function renderGrid() {
            gridContainer.innerHTML = '';
            motherboardData[selectedBrand].items
                .filter(item => item.series === selectedSeries)
                .forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'grid-item';
                    div.innerHTML = `
                        <img src="${item.img}" alt="${item.name}">
                        <p>${item.name}</p>
                    `;
                    gridContainer.appendChild(div);
                });
        }

        function setBrand(brand) {
            selectedBrand = brand;
            // If the current selectedSeries doesn't exist in the new brand, default to the first series
            const availableSeries = motherboardData[brand].series.map(s => s.id);
            selectedSeries = availableSeries.includes(selectedSeries) ? selectedSeries : motherboardData[brand].series[0].id;
            // Update active button
            document.querySelectorAll('.brand-btn').forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('data-brand') === brand);
            });
            renderSeriesSidebar();
            renderGrid();
        }

        // --- Event Listeners ---
        brandBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                setBrand(btn.getAttribute('data-brand'));
            });
        });

        // --- Initial Render ---
        // Ensure correct active tab on load
        document.querySelectorAll('.brand-btn').forEach(btn => {
            btn.classList.toggle('active', btn.getAttribute('data-brand') === selectedBrand);
        });
        renderSeriesSidebar();
        renderGrid();
    </script>
</body>
</html>
