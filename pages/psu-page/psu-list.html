<!DOCTYPE html>
<html lang="en">
<head>
    <title>PSU List</title>
    <link rel="stylesheet" href="../../../styles/index.css">
    <link rel="stylesheet" href="../../../styles/psu/psu-list.css">
</head>
<body>
    <div id="nav"></div>
    <div class="psu-page-title">
        <h1>PSU LIST</h1>
    </div>
    <div class="psu-landing-page">
        <div class="psu-topbar">
            <div class="psu-type-group">
                <input type="radio" name="psu-type" value="fully-modular" id="fully-modular-type" class="psu-type-radio" checked>
                <label for="fully-modular-type" class="psu-type-label">Fully Modular</label>
                <input type="radio" name="psu-type" value="semi-modular" id="semi-modular-type" class="psu-type-radio">
                <label for="semi-modular-type" class="psu-type-label">Semi-Modular</label>
                <input type="radio" name="psu-type" value="non-modular" id="non-modular-type" class="psu-type-radio">
                <label for="non-modular-type" class="psu-type-label">Non-Modular</label>
            </div>
        </div>
        <div class="psu-grid-container">
                <!-- Fully Modular Items -->
                <div class="psu-grid-item" data-type="fully-modular">
                    <img src="../../../assets/psu/fully-modular/fm1.png" alt="Fully Modular PSU 1">
                    <p>Fully Modular PSU 1</p>
                </div>
                <div class="psu-grid-item" data-type="fully-modular">
                    <img src="../../../assets/psu/fully-modular/fm2.png" alt="Fully Modular PSU 2">
                    <p>Fully Modular PSU 2</p>
                </div>
                <div class="psu-grid-item" data-type="fully-modular">
                    <img src="../../../assets/psu/fully-modular/fm3.png" alt="Fully Modular PSU 3">
                    <p>Fully Modular PSU 3</p>
                </div>
                <div class="psu-grid-item" data-type="fully-modular">
                    <img src="../../../assets/psu/fully-modular/fm4.png" alt="Fully Modular PSU 4">
                    <p>Fully Modular PSU 4</p>
                </div>
                <div class="psu-grid-item" data-type="fully-modular">
                    <img src="../../../assets/psu/fully-modular/fm5.png" alt="Fully Modular PSU 5">
                    <p>Fully Modular PSU 5</p>
                </div>
                <!-- Semi-Modular Items -->
                <div class="psu-grid-item" data-type="semi-modular">
                    <img src="../../../assets/psu/semi-modular/sm1.png" alt="Semi-Modular PSU 1">
                    <p>Semi-Modular PSU 1</p>
                </div>
                <div class="psu-grid-item" data-type="semi-modular">
                    <img src="../../../assets/psu/semi-modular/sm2.png" alt="Semi-Modular PSU 2">
                    <p>Semi-Modular PSU 2</p>
                </div>
                <div class="psu-grid-item" data-type="semi-modular">
                    <img src="../../../assets/psu/semi-modular/sm3.png" alt="Semi-Modular PSU 3">
                    <p>Semi-Modular PSU 3</p>
                </div>
                <div class="psu-grid-item" data-type="semi-modular">
                    <img src="../../../assets/psu/semi-modular/sm4.png" alt="Semi-Modular PSU 4">
                    <p>Semi-Modular PSU 4</p>
                </div>
                <div class="psu-grid-item" data-type="semi-modular">
                    <img src="../../../assets/psu/semi-modular/sm5.png" alt="Semi-Modular PSU 5">
                    <p>Semi-Modular PSU 5</p>
                </div>
                <!-- Non-Modular Items -->
                <div class="psu-grid-item" data-type="non-modular">
                    <img src="../../../assets/psu/non-modular/nm1.png" alt="Non-Modular PSU 1">
                    <p>Non-Modular PSU 1</p>
                </div>
                <div class="psu-grid-item" data-type="non-modular">
                    <img src="../../../assets/psu/non-modular/nm2.png" alt="Non-Modular PSU 2">
                    <p>Non-Modular PSU 2</p>
                </div>
                <div class="psu-grid-item" data-type="non-modular">
                    <img src="../../../assets/psu/non-modular/nm3.png" alt="Non-Modular PSU 3">
                    <p>Non-Modular PSU 3</p>
                </div>
                <div class="psu-grid-item" data-type="non-modular">
                    <img src="../../../assets/psu/non-modular/nm4.png" alt="Non-Modular PSU 4">
                    <p>Non-Modular PSU 4</p>
                </div>
                <div class="psu-grid-item" data-type="non-modular">
                    <img src="../../../assets/psu/non-modular/nm5.png" alt="Non-Modular PSU 5">
                    <p>Non-Modular PSU 5</p>
                </div>
            </div>
        </div>
    </div>
    <div id="bottom-nav"></div>
    <script>
        // Filtering logic for PSU type
        document.querySelectorAll('input[name="psu-type"]').forEach(radio => {
            radio.addEventListener('change', () => {
                const selectedValue = document.querySelector('input[name="psu-type"]:checked').value;
                document.querySelectorAll('.psu-grid-item').forEach(item => {
                    item.style.display = item.getAttribute('data-type') === selectedValue ? 'block' : 'none';
                });
            });
        });

        // On load, show only checked type or type from URL
        window.addEventListener('DOMContentLoaded', () => {
            // Get 'type' from query string (e.g., ?type=fully-modular)
            const params = new URLSearchParams(window.location.search);
            const typeParam = params.get('type');
            let typeValue = null;
            if (typeParam && ['fully-modular', 'semi-modular', 'non-modular'].includes(typeParam)) {
                typeValue = typeParam;
            }
            if (typeValue) {
                const radio = document.getElementById(typeValue + '-type');
                if (radio) {
                    radio.checked = true;
                    radio.dispatchEvent(new Event('change'));
                    return;
                }
            }
            // Default: show checked
            const checked = document.querySelector('input[name="psu-type"]:checked');
            if (checked) checked.dispatchEvent(new Event('change'));
        });
    </script>
</body>
</html>
